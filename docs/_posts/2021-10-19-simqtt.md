---
layout: post
title:  "SIMQTT - Extended MQTT client for Axis devices"
date: 2021-10-19 00:00:00 +0200
categories: [ACAP, MQTT]
---
Axis devices has a built in MQTT client.  SIMQTT is an alternative client that extends MQTT capabilities, reduces device configuration simplifies topic and payload structure.  
SIMQTT can be installed in older firmware versions before the MQTT client was introduced.  You can utilize both SIMQTT and the buit-in client at the same time connecting to different brokers.

Compared to the built-in client:  
* Automatic publish for all common events
* Topic and payload optimized for IT integration
* Status message every 15 minutes including CPU load and bandwidth utilization
* User defined free-text payload properties for name and location
* User defined timestamp syntax (EPOCH or ISO String) depending on system needs

![Settings]({{ site.url }}/assets/simqtt.jpg)

## Prerequisite
- Axis device
- [SIMQTT](https://api.aintegration.team/acap/simqtt?source=pages) ACAP

## Installation

Install SIMQTT for devices with firmware 10.x.x or later.  Install SIMQTT_Legacy for devices with firmware less  than 10.x.x. _Note that SIMQTT Legacy only supports MQTT connection over TCP and not TLS._

### MQTT Broker
Set broker settings

### Additional payload properties
Name and Location will be included in every payload as "name" and "location" if they contain any user defined text string.
Select format for property "timestamp".  Either EPOCH (milli seconds since Jan 1 1970) is ISO (YYYY-MM-DDTHH:MM:SS+Zone-offset)

## Messages (Topics & Payload)
[List of topics and payload](https://github.com/pandosme/acaps/blob/master/simqtt/topics.md)